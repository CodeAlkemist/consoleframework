У элемента управления перед рендерингом должны быть известны следующие компоненты:

1. Слот, в котором размещается графическое представление. Представлен свойством RenderSlotRect -
   rectangle относительно холста родительского элемента. Выставляется при вызове Arrange(Rect finalSize)
   собственно этому finalSize и равен.
2. Размеры виртуального холста, в которое будет отрисован элемент управления.
   Заданы свойством RenderSize, которое определяется при ревалидации Arrange-фазы.
   Виртуальный холст может быть больше или меньше слота.
3. Инфа о том, как расположить виртуальный холст в слот, в рамках которого необходимо остаться.
   Если размеры виртуального холста превышают размеры слота, отведенного для элемента управления, то
   часть виртуального холста будет обрезана. Что именно будет обрезано - определяется комбинацией свойств
   HorizontalAlignment, VerticalAlignment и Margin.
   То есть по имеющимся свойствам RenderSlotRect, RenderSize и HorizontalAlignment, VerticalAlignment, Margin
   можно вычислить положение виртуального холста в слоте, предоставленном родительским элементом управления.
   А для рисования необходимо вычислить:
   а) Смещение виртуального холста относительно слота - свойство ActualOffset (может быть отрицательным)
   б) Прямоугольник, который бы отрезал лишнее из виртуального холста - эта штука появляется при заданном Margin.
   todo : сейчас судя по всему Margin не учитывается для такого клиппинга, надо это дело дописать

Margin определяет то, насколько сдвинуто "изображение" контрола относительно его же виртуального холста.
Поэтому клиппинг может происходить в следующих местах:
1. При применении Margin к виртуальному холсту при рендеринге контрола в виртуальный буфер
2. При применении RenderSlotRect + ActualOffset - так мы узнаем, как разместить в виртуальном холста парента наш
   контрол.