На чем остановился.

На реализации полноценного цикла обновления и перерисовки.

Должно быть сделано примерно следующим образом:

- строится визуальное дерево контролов, лайаут просчитывается, дерево целиком валидно и может быть отрисовано
- отрисовывается rootElement
- запускается цикл обработки сообщений, в процессе работы которого могут быть вызваны Invalidate для нужных контролов
  ревалидируемые контролы добавляются в очередь
  после получения управления циклом обработки сообщений очередь разруливается и все элементы ревалидируются
  если что-то повлияло на рендеринг, эти изменения применяются автоматически и сразу видны на экране