Описание работы XAML

XAML обрабатывается следующим образом. Парсер проходит все элементы подряд, и превращает их в объекты.
Экземпляр объекта создаётся при встрече элемента (атрибута). Далее, если это атрибут, то его значение
присваивается свойству описываемого объекта сразу, а если это вложенный элемент, то его содержимое будет
создано рекурсивно из того, что внутри этого элемента. Присваивание конструируемого объекта свойству
вышестоящего объекта происходит в момент завершения парсинга описания его содержимого, то есть при нахождении
парного закрывающего тега. В этот момент объект полностью сконфигурирован вместе со всеми вложенными объектами.

Система Content-свойств аналогична используемой в WPF.

Как происходит преобразование типов и как обрабатываются коллекции.
Преобразование типов производится только встроенное - из строк в числа, перечисления и некоторые встроенные
конвертеры для структур (Point, Size, Thickness).
Если нужно использовать кастомный конвертер, его нужно вызвать с помощью расширения разметки.
(пока еще не готово).

Поддерживаются любые коллекции, реализующие ICollection<T> или IDictionary<string, T>.
Если при обработке закрывающего тега выясняется, что свойство вышестоящего элемента (свойство, которое мы
определяем текущим объектом) реализует ICollection<T>, то текущий сконфигурированный объект будет добавлен
в эту коллекцию вызовом Add(T obj) - вместо стандартного поиска конвертера и последующего вызова сеттера.
Таким образом, для коллекций сеттер не нужен - нужен только геттер.
Аналогично обрабатываются свойства типа IDictionary<string, T>. Пример:

<Window.Resources>
	<item x:Key="1">Строка</item>
	<item x:Key="2">Строка 2</item>
</Window.Resources>

Во время обработки тега первого закрывающего тега </item> значение "Строка" будет добавлено в коллекцию
Window.Resources.

Причём перед тем, как вызвать метод Add (это справедливо и для коллекций, и для словарей) будет произведена
проверка на совместимость типа текущего сконфигурированного объекта и T-типа-аргумента коллекции/словаря.
Если типы не совместимы, будет выполнена попытка поиска соответствующего конвертера.

По поводу пространств имён - если нужно использовать x:Key, то в рутовом элементе XML обязательно должна 
быть ссылка на соответствующее пространство имён:

<Window xmlns:x="http://consoleframework.org/xaml.xsd">
</Window>